<!doctype html>
<html lang="en">
<%-include ('../blocks/head') %>

    <style>
        html,
        body {
            height: 100%;
        }

        body {
            display: flex;
            align-items: center;
            padding-top: 40px;
            padding-bottom: 40px;
        }

        .form-signin {
            width: 100%;
            max-width: 330px;
            padding: 15px;
            margin: auto;
        }

        .form-signin .checkbox {
            font-weight: 400;
        }

        .form-signin .form-floating:focus-within {
            z-index: 2;
        }

        .form-signin input[type="email"] {
            margin-bottom: -1px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        .form-signin input[type="Senha"] {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <body class="text-center">
        <main class="form-signin">
            <form>
                <img src="assets/images/brand/logo-cotaaco.svg" alt="logo Cota AÃ§o" width="300" height="238">
                <h1 class="h5 mb-2 fw-normal">Acesso restrito</h1>
                <div class="form-floating mb-2">
                    <input type="text" class="form-control" id="login" name="login" placeholder="Login" required>
                    <label for="login">Login</label>
                </div>
                <div class="form-floating mb-2">
                    <input type="password" class="form-control" id="pw" name="pw" placeholder="Senha" required>
                    <label for="pw">Senha</label>
                </div>
                <div class="form-floating mb-2">
                    <a href="">Esqueci minha senha</a>
                </div>
                <button class="w-100 btn btn-lg btn-primary mb-2" type="button" id="btnAcessar">Acessar</button>
            </form>
        </main>
        <%-include ('../blocks/vendor') %>
            <script>

                window.onload = () => {

                    let btnAcessar = document.getElementById('btnAcessar')
                        , login = document.getElementById('login')
                        , pw = document.getElementById('pw')

                    btnAcessar.addEventListener('click', event => {

                        event.preventDefault()
                        if (login.value === '' || pw.value === '') {

                            alert('Preencha todos os campos')

                        } else {

                            axios.post('/login/controller', { login: login.value, pw: pw.value })
                                .then()
                                .catch(err => {
                                    err = err.response.data
                                    console.log(err)
                                    alert('Erro', `${err} - <small>Detalhes no console</small>`, 'danger')
                                })
                        }
                    })
                }

            </script>

    </body>

</html>